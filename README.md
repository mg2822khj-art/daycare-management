# 🐕 강아지 데이케어 관리 시스템

강아지 유치원의 단발성 데이케어 방문 고객을 관리하는 웹 애플리케이션입니다.

## 주요 기능

### 1. 고객 등록
- 보호자 이름
- 연락처
- 반려견 이름 (중복 가능)
- 견종
- 나이 (개월)

### 2. 체크인/체크아웃
- 반려견 이름으로 검색
- **동명이견 지원**: 같은 이름의 반려견이 여러 마리여도 보호자, 견종, 나이로 구분 가능
- 검색 결과에서 선택하여 체크인
- 현재 체크인 중인 반려견 실시간 확인 (보호자 이름 표시)
- 경과 시간 자동 계산
- 체크아웃 시 이용 시간 자동 저장

### 3. 고객 관리
- 등록된 모든 고객 정보 조회
- 고객별 상세 정보 확인

### 4. 방문 기록
- 최근 50건의 방문 기록 조회
- 체크인/체크아웃 시간 기록
- 이용 시간 자동 계산

## 기술 스택

### 백엔드
- Node.js
- Express
- SQL.js (순수 JavaScript SQLite)

### 프론트엔드
- React
- Vite
- Axios

## 설치 및 실행

### 간편 설치 (배치 파일 사용)

#### Windows 사용자

1. **처음 설치 시:**
   ```
   install.bat 더블클릭
   ```

2. **앱 실행:**
   ```
   start.bat 더블클릭
   ```

### 수동 설치

#### 1. 의존성 설치

```bash
# 백엔드 의존성 설치
npm install

# 프론트엔드 의존성 설치
cd client
npm install
cd ..
```

#### 2. 서버 실행

터미널 1 (백엔드):
```bash
npm run dev
```

터미널 2 (프론트엔드):
```bash
npm run client
```

#### 3. 접속

웹 브라우저에서 `http://localhost:3000` 접속

## 사용 방법

### 처음 사용 시
1. **고객 등록** 탭에서 신규 고객 정보 입력
   - 같은 이름의 반려견도 등록 가능합니다
2. **체크인/아웃** 탭에서 반려견 이름 검색
3. 검색 결과에서 원하는 반려견 선택하여 체크인
4. 귀가 시 해당 반려견의 **체크아웃** 버튼 클릭
5. **방문 기록** 탭에서 이용 내역 확인

### 일상적인 사용
1. **체크인/아웃** 탭 열기
2. 반려견 이름 입력하고 검색
3. 검색 결과에서 선택하여 체크인
4. 귀가 시 체크아웃 버튼 클릭

### 동명이견 처리
- 같은 이름의 반려견이 여러 마리 등록되어 있어도 괜찮습니다
- 검색하면 모든 결과가 표시되며, 보호자 이름, 견종, 나이로 구분할 수 있습니다
- 현재 체크인 목록에서도 보호자 이름이 함께 표시됩니다

## 데이터베이스

SQLite 데이터베이스 파일이 `server/daycare.db`에 자동 생성됩니다.

### 테이블 구조

#### customers (고객 정보)
- id: 고유 ID
- customer_name: 보호자 이름
- phone: 연락처
- dog_name: 반려견 이름 (중복 가능)
- breed: 견종
- age: 나이 (개월)
- created_at: 등록일

#### visits (방문 기록)
- id: 고유 ID
- customer_id: 고객 ID (외래키)
- check_in: 체크인 시간
- check_out: 체크아웃 시간
- duration_minutes: 이용 시간 (분)

## API 엔드포인트

### 고객 관리
- `POST /api/customers` - 고객 등록
- `GET /api/customers` - 전체 고객 조회
- `GET /api/customers/search/:dogName` - 반려견 이름으로 검색 (여러 결과 반환)

### 체크인/체크아웃
- `POST /api/checkin` - 체크인 (customer_id 필요)
- `POST /api/checkout` - 체크아웃 (visit_id 필요)
- `GET /api/current-visits` - 현재 체크인 중인 목록
- `GET /api/visit-history` - 방문 기록 조회

## 배치 파일

- `install.bat` - 초기 의존성 설치
- `start.bat` - 백엔드/프론트엔드 동시 실행
- `backend.bat` - 백엔드만 실행
- `frontend.bat` - 프론트엔드만 실행

## 라이선스

MIT
